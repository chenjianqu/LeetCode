# 回溯算法

## 基础知识

### 回溯算法要解决的问题

组合问题：N个数⾥⾯按⼀定规则找出k个数的集合
切割问题：⼀个字符串按⼀定规则有⼏种切割⽅式
⼦集问题：⼀个N个数的集合⾥有多少符合条件的⼦集
排列问题：N个数按⼀定规则全排列，有⼏种排列⽅式
棋盘问题：N皇后，解数独等等



排列和组合的区别：**组合是不强调元素顺序的，排列是强调元素顺序**。





### 回溯算法的模板

**1 回溯函数模板返回值以及参数**  
因为回溯算法需要的参数可不像⼆叉树递归的时候那么容易⼀次性确定下来，所以⼀ 般是先写逻辑，然后需要什么参数，就填什么参数  

**2 回溯函数终⽌条件**
树中就可以看出，⼀般来说搜到叶⼦节点了，也就找到了满⾜条件的⼀条答 案，把这个答案存放起来，并结束本层递归。

**3 回溯搜索的遍历过程**  
 回溯法⼀般是在集合中递归搜索，集合的⼤⼩构成了树的宽度，递归的深度构成的 树的深度。出for循环可以理解是横向遍历，backtracking（递归）就是纵向遍历，这样就把这棵树全遍历完了，⼀般来说，搜索叶⼦节点就是找的其中⼀个结果了。

代码框架如下：

```C++
void backtracking(参数) {
    if (终⽌条件) {
        存放结果;
        return;
    }
    for (选择：本层集合中元素（树中节点孩⼦的数量就是集合的⼤⼩）) {
        处理节点;
        backtracking(路径，选择列表); // 递归
        回溯，撤销处理结果
    }
}
```









## 题目



## 组合问题



### L77. 组合

**题目**：给定两个整数 n 和 k，返回范围 [1, n] 中所有可能的 k 个数的组合。

你可以按 任何顺序 返回答案。



**思路1**：回溯。

回溯函数的参数：n,k和遍历起始值。

回溯终止条件：路径数组中的大小满足要求。

遍历过程：for循环搜索。

```C++
class Solution {
public:
    vector<vector<int>> combine(int n, int k) {
        backtracking(n,k,1);
        return result;
    }
private:
    void backtracking(int n,int k,int start){
        if(path.size()==k){
            result.push_back(path);
            return;
        }
        for(int i=start;i<=n;++i){
            path.push_back(i);
            backtracking(n,k,i+1);
            path.pop_back();//回溯
        }
    }
    vector<vector<int>> result;
    vector<int> path;
};
```



### L216. 组合总和III

**题目**：找出所有相加之和为 n 的 k 个数的组合。组合中只允许含有 1 - 9 的正整数，并且每种组合中不存在重复的数字。

说明：

所有数字都是正整数。
解集不能包含重复的组合。



**思路1**：回溯。

回溯函数的参数：n,k和遍历起始值。

回溯终止条件：路径数组中的大小满足要求 且 其和为目标值。

遍历过程：for循环搜索，从1到9。

```C++
class Solution {
public:
    vector<vector<int>> combinationSum3(int k, int n) {
        backtrack(k,n,1);
        return result;
    }
private:
    void backtrack(int k,int n,int start){
        if(path.size()==k){
            if(std::accumulate(path.begin(),path.end(),0)==n)
                result.push_back(path);
            return;
        }
        for(int i=start;i<10;++i){
            path.push_back(i);
            backtrack(k,n,i+1);
            path.pop_back();
        }
    }
    vector<vector<int>> result;
    vector<int> path;
};
```





### L17. 电话号码的字母组合

**题目**：给定一个仅包含数字 2-9 的字符串，返回所有它能表示的字母组合。答案可以按 任意顺序 返回。

给出数字到字母的映射如下（与电话按键相同）。注意 1 不对应任何字母。



**思路1**：
















